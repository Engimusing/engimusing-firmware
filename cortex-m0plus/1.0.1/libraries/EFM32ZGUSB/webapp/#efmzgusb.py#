import os, os.path
import string
import serial
import time

import cherrypy

class StringGenerator(object):
    @cherrypy.expose
    def index(self):
        s = serial.Serial(port="/dev/ttyUSB0",
                  baudrate=115200, 
                  bytesize=8,
                  parity='N',
                  stopbits=1,
                  timeout=None,
                  xonxoff=0,
                  rtscts=0)
        if(s.isOpen() == False):
            s.open()
        s.write("<DEV><MOD>EFMUSB</MOD><TYPE>BRDINFO</TYPE></DEV>")
        return str(td)
        #return open('index.html')


if __name__ == '__main__':
    cherrypy.quickstart(StringGenerator())

